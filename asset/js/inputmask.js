!function(ae){function oe(e){this.el=void 0,this.opts=ae.extend(!0,{},this.defaults,e),this.noMasksCache=e&&void 0!==e.definitions,this.userOptions=e||{},l(this.opts.alias,e,this.opts)}function re(e){var t=document.createElement("input"),i="on"+e,n=i in t;return n||(t.setAttribute(i,"return;"),n="function"==typeof t[i]),t=null,n}function l(e,t,i){var n=i.aliases[e];if(n)return n.alias&&l(n.alias,void 0,i),ae.extend(!0,i,n),ae.extend(!0,i,t),1;void 0===i.mask&&(i.mask=e)}function a(E,a){var e;function o(e){var t,i,n,a,o,r,s,l=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,p=!1,u=new f,c=[],d=[];function f(e,t,i,n){this.matches=[],this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=i||!1,this.isAlternator=n||!1,this.quantifier={min:1,max:1}}function v(e,t,i){var n=E.definitions[t];i=void 0!==i?i:e.matches.length;var a=e.matches[i-1];if(n&&!p){n.placeholder=ae.isFunction(n.placeholder)?n.placeholder.call(this,E):n.placeholder;for(var o=n.prevalidator,r=o?o.length:0,s=1;s<n.cardinality;s++){var l=s<=r?o[s-1]:[],u=l.validator,c=l.cardinality;e.matches.splice(i++,0,{fn:u?"string"==typeof u?new RegExp(u):new function(){this.test=u}:new RegExp("."),cardinality:c||1,optionality:e.isOptional,newBlockMarker:void 0===a||a.def!==(n.definitionSymbol||t),casing:n.casing,def:n.definitionSymbol||t,placeholder:n.placeholder,mask:t}),a=e.matches[i-1]}e.matches.splice(i++,0,{fn:n.validator?"string"==typeof n.validator?new RegExp(n.validator):new function(){this.test=n.validator}:new RegExp("."),cardinality:n.cardinality,optionality:e.isOptional,newBlockMarker:void 0===a||a.def!==(n.definitionSymbol||t),casing:n.casing,def:n.definitionSymbol||t,placeholder:n.placeholder,mask:t})}else e.matches.splice(i++,0,{fn:null,cardinality:0,optionality:e.isOptional,newBlockMarker:void 0===a||a.def!==t,casing:null,def:t,placeholder:void 0,mask:t}),p=!1}function m(e,t){e.isGroup&&(e.isGroup=!1,v(e,E.groupmarker.start,0),!0!==t&&v(e,E.groupmarker.end))}function h(e,t,i,n){0<t.matches.length&&(void 0===n||n)&&m(t.matches[t.matches.length-1]),v(t,e)}function k(){if(0<c.length){if(a=c[c.length-1],h(i,a,0,!a.isAlternator),a.isAlternator){o=c.pop();for(var e=0;e<o.matches.length;e++)o.matches[e].isGroup=!1;0<c.length?(a=c[c.length-1]).matches.push(o):u.matches.push(o)}}else h(i,u)}for(;t=l.exec(e);)if(i=t[0],p)k();else switch(i.charAt(0)){case E.escapeChar:p=!0;break;case E.optionalmarker.end:case E.groupmarker.end:if(void 0!==(n=c.pop()))if(0<c.length){if((a=c[c.length-1]).matches.push(n),a.isAlternator){o=c.pop();for(var g=0;g<o.matches.length;g++)o.matches[g].isGroup=!1;0<c.length?(a=c[c.length-1]).matches.push(o):u.matches.push(o)}}else u.matches.push(n);else k();break;case E.optionalmarker.start:c.push(new f(!1,!0));break;case E.groupmarker.start:c.push(new f(!0));break;case E.quantifiermarker.start:var b=new f(!1,!1,!0),y=(i=i.replace(/[{}]/g,"")).split(","),P=isNaN(y[0])?y[0]:parseInt(y[0]),_=1===y.length?P:isNaN(y[1])?y[1]:parseInt(y[1]);if("*"!==_&&"+"!==_||(P="*"===_?0:1),b.quantifier={min:P,max:_},0<c.length){var C=c[c.length-1].matches;(t=C.pop()).isGroup||((s=new f(!0)).matches.push(t),t=s),C.push(t),C.push(b)}else(t=u.matches.pop()).isGroup||((s=new f(!0)).matches.push(t),t=s),u.matches.push(t),u.matches.push(b);break;case E.alternatormarker:(r=0<c.length?(a=c[c.length-1]).matches.pop():u.matches.pop()).isAlternator?c.push(r):((o=new f(!1,!1,!1,!0)).matches.push(r),c.push(o));break;default:k()}for(;0<c.length;)m(n=c.pop(),!0),u.matches.push(n);return 0<u.matches.length&&(m(r=u.matches[u.matches.length-1]),d.push(u)),E.numericInput&&function e(t){for(var i in t.matches=t.matches.reverse(),t.matches){var n=parseInt(i);if(t.matches[i].isQuantifier&&t.matches[n+1]&&t.matches[n+1].isGroup){var a=t.matches[i];t.matches.splice(i,1),t.matches.splice(n+1,0,a)}void 0!==t.matches[i].matches?t.matches[i]=e(t.matches[i]):t.matches[i]=((o=t.matches[i])===E.optionalmarker.start?o=E.optionalmarker.end:o===E.optionalmarker.end?o=E.optionalmarker.start:o===E.groupmarker.start?o=E.groupmarker.end:o===E.groupmarker.end&&(o=E.groupmarker.start),o)}var o;return t}(d[0]),d}function t(e,t){if(void 0!==e&&""!==e){if(1===e.length&&!1===E.greedy&&0!==E.repeat&&(E.placeholder=""),0<E.repeat||"*"===E.repeat||"+"===E.repeat){var i="*"===E.repeat?0:"+"===E.repeat?1:E.repeat;e=E.groupmarker.start+e+E.groupmarker.end+E.quantifiermarker.start+i+","+E.repeat+E.quantifiermarker.end}var n;return void 0===oe.prototype.masksCache[e]||!0===a?(n={mask:e,maskToken:o(e),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:t},!0!==a&&(oe.prototype.masksCache[E.numericInput?e.split("").reverse().join(""):e]=n)):n=ae.extend(!0,{},oe.prototype.masksCache[e]),n}}function i(e){return e=e.toString()}if(ae.isFunction(E.mask)&&(E.mask=E.mask.call(this,E)),ae.isArray(E.mask)){if(1<E.mask.length){E.keepStatic=void 0===E.keepStatic||E.keepStatic;var n="(";return ae.each(E.numericInput?E.mask.reverse():E.mask,function(e,t){1<n.length&&(n+=")|("),void 0===t.mask||ae.isFunction(t.mask)?n+=i(t):n+=i(t.mask)}),t(n+=")",E.mask)}E.mask=E.mask.pop()}return E.mask&&(e=void 0===E.mask.mask||ae.isFunction(E.mask.mask)?t(i(E.mask),E.mask):t(i(E.mask.mask),E.mask)),e}oe.prototype={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:void 0,oncomplete:ae.noop,onincomplete:ae.noop,oncleared:ae.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:void 0,onKeyDown:ae.noop,onBeforeMask:void 0,onBeforePaste:void 0,onBeforeWrite:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:ae.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",groupSeparator:"",radixFocus:!1,nojumps:!1,nojumpsThreshold:0,keepStatic:void 0,positionCaretOnTab:!1,tabThrough:!1,supportsInputType:[],definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:void 0,canClearPosition:ae.noop,postValidation:void 0},masksCache:{},mask:function(e){var t=e.jquery&&0<e.length?e[0]:e,i=ae.extend(!0,{},this.opts);!function(e,t,i){var n=ae(e),a=n.data("inputmask");function o(e){var t=n.data("inputmask-"+e.toLowerCase());void 0!==t&&(t="boolean"==typeof t?t:t.toString(),"mask"===e&&0===t.indexOf("[")?(i[e]=t.replace(/[\s[\]]/g,"").split(","),i[e][0]=i[e][0].replace("'",""),i[e][i[e].length-1]=i[e][i[e].length-1].replace("'","")):i[e]=t)}if(a&&""!==a)try{a=a.replace(new RegExp("'","g"),'"');var r=ae.parseJSON("{"+a+"}");ae.extend(!0,i,r)}catch(e){}for(var s in t)o(s);if(i.alias)for(s in l(i.alias,i,t),t)o(s);ae.extend(!0,t,i)}(e,i,ae.extend(!0,{},this.userOptions));var n=a(i,this.noMasksCache);return void 0!==n&&(t.inputmask=t.inputmask||new oe,t.inputmask.opts=i,t.inputmask.noMasksCache=this.noMasksCache,(t.inputmask.el=t).inputmask.maskset=n,t.inputmask.isRTL=!1,ae(t).data("_inputmask_opts",i),o({action:"mask",el:t},n,t.inputmask.opts)),e},unmaskedvalue:function(){if(this.el)return o({action:"unmaskedvalue",el:this.el})},remove:function(){if(this.el)return o({action:"remove",el:this.el}),this.el.inputmask=void 0,this.el},getemptymask:function(){if(this.el)return o({action:"getemptymask",el:this.el})},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){if(this.el)return o({action:"isComplete",buffer:this.el.inputmask._valueGet().split(""),el:this.el})},getmetadata:function(){if(this.el)return o({action:"getmetadata",el:this.el})}},oe.extendDefaults=function(e){ae.extend(oe.prototype.defaults,e)},oe.extendDefinitions=function(e){ae.extend(oe.prototype.defaults.definitions,e)},oe.extendAliases=function(e){ae.extend(oe.prototype.defaults.aliases,e)},oe.format=function(e,t,i){var n=ae.extend(!0,{},oe.prototype.defaults,t);return l(n.alias,t,n),o({action:"format",value:e,metadata:i},a(n,t&&void 0!==t.definitions),n)},oe.unmask=function(e,t){var i=ae.extend(!0,{},oe.prototype.defaults,t);return l(i.alias,t,i),o({action:"unmaskedvalue",value:e},a(i,t&&void 0!==t.definitions),i)},oe.isValid=function(e,t){var i=ae.extend(!0,{},oe.prototype.defaults,t);return l(i.alias,t,i),o({action:"isValid",value:e},a(i,t&&void 0!==t.definitions),i)},oe.escapeRegex=function(e){return e.replace(new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim"),"\\$1")},oe.keyCode={ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91};var e=navigator.userAgent,se=null!==e.match(new RegExp("iphone","i")),le=null!==e.match(new RegExp("android.*chrome.*","i")),ue=null!==e.match(new RegExp("android.*firefox.*","i")),ce=re("paste")?"paste":re("input")?"input":"propertychange";function o(e,t,E){var y,r,s,i,l,u,n,P=!1,c=!1,p=!1,_=!1,d=!0;function a(e,t,i){t=t||0;var n,a,o,r=[],s=0;do{if(!0===e&&j().validPositions[s]){var l=j().validPositions[s];a=l.match,n=l.locator.slice(),r.push(!0===i?l.input:I(s,a))}else a=(o=S(s,n,s-1)).match,n=o.locator.slice(),r.push(I(s,a));s++}while((void 0===u||s-1<u)&&null!==a.fn||null===a.fn&&""!==a.def||s<=t);return r.pop(),r}function j(){return t}function w(e){var t=j();t.buffer=void 0,t.tests={},!0!==e&&(t._buffer=void 0,t.validPositions={},t.p=0)}function x(e,t){var i=-1,n=j().validPositions;void 0===e&&(e=-1);var a=i,o=i;for(var r in n){var s=parseInt(r);n[s]&&(t||null!==n[s].match.fn)&&(s<=e&&(a=s),e<=s&&(o=s))}return i=-1!==a&&1<e-a||o<e?a:o}function C(e,t,i){if(E.insertMode&&void 0!==j().validPositions[e]&&void 0===i){var n,a=ae.extend(!0,{},j().validPositions),o=x();for(n=e;n<=o;n++)delete j().validPositions[n];j().validPositions[e]=t;var r,s=!0,l=j().validPositions;for(n=r=e;n<=o;n++){var u=a[n];if(void 0!==u)for(var c=r,p=-1;c<b()&&(null==u.match.fn&&l[n]&&(!0===l[n].match.optionalQuantifier||!0===l[n].match.optionality)||null!=u.match.fn);){if(null===u.match.fn||!E.keepStatic&&l[n]&&(void 0!==l[n+1]&&1<A(n+1,l[n].locator.slice(),n).length||void 0!==l[n].alternation)?c++:c=D(r),v(c,u.match.def)){s=!1!==T(c,u.input,!0,!0),r=c;break}if(s=null==u.match.fn,p===c)break;p=c}if(!s)break}if(!s)return void(j().validPositions=ae.extend(!0,{},a))}else j().validPositions[e]=t;return 1}function h(e,t,i,n){var a,o=e;for(j().p=e,a=o;a<t;a++)void 0!==j().validPositions[a]&&(!0!==i&&!1===E.canClearPosition(j(),a,x(),n,E)||delete j().validPositions[a]);for(w(!0),a=o+1;a<=x();){for(;void 0!==j().validPositions[o];)o++;var r=j().validPositions[o];a<o&&(a=o+1);var s=j().validPositions[a];void 0!==s&&g(a)&&void 0===r?(v(o,s.match.def)&&!1!==T(o,s.input,!0)&&(delete j().validPositions[a],a++),o++):a++}var l=x(),u=b();for(!0!==n&&!0!==i&&void 0!==j().validPositions[l]&&j().validPositions[l].input===E.radixPoint&&delete j().validPositions[l],a=l+1;a<=u;a++)j().validPositions[a]&&delete j().validPositions[a];w(!0)}function S(e,t,i){var n=j().validPositions[e];if(void 0===n)for(var a=A(e,t,i),o=x(),r=j().validPositions[o]||A(0)[0],s=void 0!==r.alternation?r.locator[r.alternation].toString().split(","):[],l=0;l<a.length&&!((n=a[l]).match&&(E.greedy&&!0!==n.match.optionalQuantifier||(!1===n.match.optionality||!1===n.match.newBlockMarker)&&!0!==n.match.optionalQuantifier)&&(void 0===r.alternation||r.alternation!==n.alternation||void 0!==n.locator[r.alternation]&&k(n.locator[r.alternation].toString().split(","),s)));l++);return n}function f(e){return j().validPositions[e]?j().validPositions[e].match:A(e)[0].match}function v(e,t){for(var i=!1,n=A(e),a=0;a<n.length;a++)if(n[a].match&&n[a].match.def===t){i=!0;break}return i}function A(x,e,t,i){var S,n=j().maskToken,A=e?t:0,a=e||[0],M=[],O=!1;function T(C,E,e,t){function w(e,i,t){if(1e4<A)return alert("jquery.inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+j().mask),!0;if(A===x&&void 0===e.matches)return M.push({match:e,locator:i.reverse()}),!0;if(void 0!==e.matches){if(e.isGroup&&t!==e){if(e=w(C.matches[ae.inArray(e,C.matches)+1],i))return!0}else if(e.isOptional){var n=e;if(e=T(e,E,i,t)){if(S=M[M.length-1].match,!(0===ae.inArray(S,n.matches)))return!0;O=!0,A=x}}else if(e.isAlternator){var a,o=e,r=[],s=M.slice(),l=i.length,u=0<E.length?E.shift():-1;if(-1===u||"string"==typeof u){var c=A,p=E.slice(),d=[];"string"==typeof u&&(d=u.split(","));for(var f=0;f<o.matches.length;f++){if(M=[],!0!==(e=w(o.matches[f],[f].concat(i),t)||e)&&void 0!==e&&d[d.length-1]<o.matches.length){var v=C.matches.indexOf(e)+1;C.matches.length>v&&(e=w(C.matches[v],[v].concat(i.slice(1,i.length)),t))&&(d.push(v.toString()),ae.each(M,function(e,t){t.alternation=i.length-1}))}a=M.slice(),A=c,M=[];for(var m=0;m<p.length;m++)E[m]=p[m];for(var h=0;h<a.length;h++){var k=a[h];k.alternation=k.alternation||l;for(var g=0;g<r.length;g++){var b=r[g];if(k.match.mask===b.match.mask&&("string"!=typeof u||-1!==ae.inArray(k.locator[k.alternation].toString(),d))){a.splice(h,1),h--,b.locator[k.alternation]=b.locator[k.alternation]+","+k.locator[k.alternation],b.alternation=k.alternation;break}}}r=r.concat(a)}"string"==typeof u&&(r=ae.map(r,function(e,t){if(isFinite(t)){var i=e.alternation,n=e.locator[i].toString().split(",");e.locator[i]=void 0,e.alternation=void 0;for(var a=0;a<n.length;a++)-1!==ae.inArray(n[a],d)&&(void 0!==e.locator[i]?(e.locator[i]+=",",e.locator[i]+=n[a]):e.locator[i]=parseInt(n[a]),e.alternation=i);if(void 0!==e.locator[i])return e}})),M=s.concat(r),A=x,O=0<M.length}else e=!!o.matches[u]&&w(o.matches[u],[u].concat(i),t);if(e)return!0}else if(e.isQuantifier&&t!==C.matches[ae.inArray(e,C.matches)-1])for(var y=e,P=0<E.length?E.shift():0;P<(isNaN(y.quantifier.max)?P+1:y.quantifier.max)&&A<=x;P++){var _=C.matches[ae.inArray(y,C.matches)-1];if(e=w(_,[P].concat(i),_)){if((S=M[M.length-1].match).optionalQuantifier=P>y.quantifier.min-1,0===ae.inArray(S,_.matches)){if(P>y.quantifier.min-1){O=!0,A=x;break}return!0}return!0}}else if(e=T(e,E,i,t))return!0}else A++}for(var i=0<E.length?E.shift():0;i<C.matches.length;i++)if(!0!==C.matches[i].isQuantifier){var n=w(C.matches[i],[i].concat(e),t);if(n&&A===x)return n;if(x<A)break}}if(!0===i&&j().tests[x])return j().tests[x];if(void 0===e){for(var o,r=x-1;void 0===(o=j().validPositions[r])&&-1<r&&(!j().tests[r]||void 0===(o=j().tests[r][0]));)r--;void 0!==o&&-1<r&&(A=r,a=o.locator.slice())}for(var s=a.shift();s<n.length;s++){if(T(n[s],a,[s])&&A===x||x<A)break}return 0!==M.length&&!O||M.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),j().tests[x]=ae.extend(!0,[],M),j().tests[x]}function m(){return void 0===j()._buffer&&(j()._buffer=a(!1,1)),j()._buffer}function M(){return void 0===j().buffer&&(j().buffer=a(!0,x(),!0)),j().buffer}function O(e,t,i){var n;if(i=i||M().slice(),!0===e)w(),e=0,t=i.length;else for(n=e;n<t;n++)delete j().validPositions[n],delete j().tests[n];for(n=e;n<t;n++)w(!0),i[n]!==E.skipOptionalPartCharacter&&T(n,i[n],!0,!0)}function k(e,t){for(var i=E.greedy?t:t.slice(0,1),n=!1,a=0;a<e.length;a++)if(-1!==ae.inArray(e[a],i)){n=!0;break}return n}function T(e,t,i,n){function a(p,d,f,v){var m=!1;return ae.each(A(p),function(e,t){for(var i,n=t.match,a=d?1:0,o="",r=n.cardinality;a<r;r--)o+=(i=p-(r-1),void 0===j().validPositions[i]?I(i):j().validPositions[i].input);if(d&&(o+=d),!1!==(m=null!=n.fn?n.fn.test(o,j(),p,f,E):(d===n.def||d===E.skipOptionalPartCharacter)&&""!==n.def&&{c:n.def,pos:p})){var s=void 0!==m.c?m.c:d;s=s===E.skipOptionalPartCharacter&&null===n.fn?n.def:s;var l=p,u=M();if(void 0!==m.remove&&(ae.isArray(m.remove)||(m.remove=[m.remove]),ae.each(m.remove.sort(function(e,t){return t-e}),function(e,t){h(t,t+1,!0)})),void 0!==m.insert&&(ae.isArray(m.insert)||(m.insert=[m.insert]),ae.each(m.insert.sort(function(e,t){return e-t}),function(e,t){T(t.pos,t.c,!0)})),m.refreshFromBuffer){var c=m.refreshFromBuffer;if(O((f=!0)===c?c:c.start,c.end,u),void 0===m.pos&&void 0===m.c)return m.pos=x(),!1;if((l=void 0!==m.pos?m.pos:p)!==p)return m=ae.extend(m,T(l,s,!0)),!1}else if(!0!==m&&void 0!==m.pos&&m.pos!==p&&(l=m.pos,O(p,l),l!==p))return m=ae.extend(m,T(l,s,!0)),!1;return!0!==m&&void 0===m.pos&&void 0===m.c?!1:(0<e&&w(!0),C(l,ae.extend({},t,{input:function(e,t){switch(t.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e}(s,n)}),v)||(m=!1),!1)}}),m}function o(e,t){for(var n=j().validPositions[t].locator,a=n.length,i=e;i<t;i++)if(!g(i)){var o=A(i),r=o[0],s=-1;ae.each(o,function(e,t){for(var i=0;i<a;i++)t.locator[i]&&k(t.locator[i].toString().split(","),n[i].toString().split(","))&&s<i&&(s=i,r=t)}),C(i,ae.extend({},r,{input:r.match.def}),!0)}}i=!0===i;for(var r=M(),s=e-1;-1<s&&!j().validPositions[s];s--);for(s++;s<e;s++)void 0===j().validPositions[s]&&((!g(s)||r[s]!==I(s))&&1<A(s).length||r[s]===E.radixPoint||"0"===r[s]&&ae.inArray(E.radixPoint,r)<s)&&a(s,r[s],!0);var l=e,u=!1,c=ae.extend(!0,{},j().validPositions);if(l<b()&&(M(),u=a(l,t,i,n),(!i||n)&&!1===u)){var p=j().validPositions[l];if(!p||null!==p.match.fn||p.match.def!==t&&t!==E.skipOptionalPartCharacter){if((E.insertMode||void 0===j().validPositions[D(l)])&&!g(l))for(var d=l+1,f=D(l);d<=f;d++)if(!1!==(u=a(d,t,i,n))){o(l,d),l=d;break}}else u={caret:D(l)}}if(!1===u&&E.keepStatic&&K(r)&&(u=function(e,t,i,n){for(var a,o,r,s,l,u,c=ae.extend(!0,{},j().validPositions),p=x();0<=p&&(!(s=j().validPositions[p])||void 0===s.alternation||(a=p,o=j().validPositions[a].alternation,S(a).locator[s.alternation]===s.locator[s.alternation]));p--);if(void 0!==o)for(var d in a=parseInt(a),j().validPositions)if(d=parseInt(d),s=j().validPositions[d],a<=d&&void 0!==s.alternation){var f=j().validPositions[a].locator[o].toString().split(","),v=s.locator[o]||f[0];0<v.length&&(v=v.split(",")[0]);for(var m=0;m<f.length;m++)if(v<f[m]){for(var h,k,g=d;0<=g;g--)if(void 0!==(h=j().validPositions[g])){k=h.locator[o],h.locator[o]=parseInt(f[m]);break}if(v!==h.locator[o]){var b=[],y=0;for(l=d+1;l<x()+1;l++)(u=j().validPositions[l])&&(null!=u.match.fn?b.push(u.input):l<e&&y++),delete j().validPositions[l],delete j().tests[l];for(w(!0),E.keepStatic=!E.keepStatic,r=!0;0<b.length;){var P=b.shift();if(P!==E.skipOptionalPartCharacter&&!(r=T(x()+1,P,!1,!0)))break}if(h.alternation=o,h.locator[o]=k,r){var _=x(e)+1,C=0;for(l=d+1;l<x()+1;l++)(u=j().validPositions[l])&&null==u.match.fn&&l<e&&C++;r=T(_<(e+=C-y)?_:e,t,i,n)}if(E.keepStatic=!E.keepStatic,r)return r;w(),j().validPositions=ae.extend(!0,{},c)}}break}return!1}(e,t,i,n)),!0===u&&(u={pos:l}),ae.isFunction(E.postValidation)&&!1!==u&&!i){w(!0);var v=E.postValidation(M(),E);if(v){if(v.refreshFromBuffer){var m=v.refreshFromBuffer;O(!0===m?m:m.start,m.end,v.buffer),w(!0),u=v}}else w(!0),j().validPositions=ae.extend(!0,{},c),u=!1}return u}function g(e){var t=f(e);if(null!=t.fn)return t.fn;if(!E.keepStatic&&void 0===j().validPositions[e]){for(var i=A(e),n=!0,a=0;a<i.length;a++)if(""!==i[a].match.def&&(void 0===i[a].alternation||1<i[a].locator[i[a].alternation].length)){n=!1;break}return n}}function b(){var e;-1===(u=l.prop("maxLength"))&&(u=void 0);var t,i=x(),n=j().validPositions[i],a=void 0!==n?n.locator.slice():void 0;for(t=i+1;void 0===n||null!==n.match.fn||null===n.match.fn&&""!==n.match.def;t++)a=(n=S(t,a,t-1)).locator.slice();return e=""!==f(t-1).def?t:t-1,void 0===u||e<u?e:u}function D(e,t){var i=b();if(i<=e)return i;for(var n=e;++n<i&&(!0===t&&(!0!==f(n).newBlockMarker||!g(n))||!0!==t&&!g(n)&&(!0!==E.nojumps||E.nojumpsThreshold>n)););return n}function G(e,t){var i=e;if(i<=0)return 0;for(;0<--i&&(!0===t&&!0!==f(i).newBlockMarker||!0!==t&&!g(i)););return i}function B(e,t,i,n,a){if(n&&ae.isFunction(E.onBeforeWrite)){var o=E.onBeforeWrite.call(e,n,t,i,E);if(o){if(o.refreshFromBuffer){var r=o.refreshFromBuffer;O(!0===r?r:r.start,r.end,o.buffer||t),w(!0),t=M()}i=void 0!==o.caret?o.caret:i}}e.inputmask._valueSet(t.join("")),void 0===i||void 0!==n&&"blur"===n.type||R(e,i),!0===a&&(p=!0,ae(e).trigger("input"))}function I(e,t){if(void 0!==(t=t||f(e)).placeholder)return t.placeholder;if(null!==t.fn)return E.placeholder.charAt(e%E.placeholder.length);if(!E.keepStatic&&void 0===j().validPositions[e]){for(var i,n=A(e),a=!1,o=0;o<n.length;o++){if(i&&""!==n[o].match.def&&n[o].match.def!==i.match.def&&(void 0===n[o].alternation||n[o].alternation===i.alternation)){a=!0;break}!0!==n[o].match.optionality&&!0!==n[o].match.optionalQuantifier&&(i=n[o])}if(a)return E.placeholder.charAt(e%E.placeholder.length)}return t.def}function F(s,e,l,t){var i=void 0!==t?t.slice():s.inputmask._valueGet().split(""),u="",c=0;if(w(),j().p=D(-1),e&&s.inputmask._valueSet(""),!l)if(!0!==E.autoUnmask){var n=m().slice(0,D(-1)).join(""),a=i.join("").match(new RegExp("^"+oe.escapeRegex(n),"g"));a&&0<a.length&&(i.splice(0,a.length*n.length),c=D(c))}else c=D(c);ae.each(i,function(e,t){var i=ae.Event("keypress");i.which=t.charCodeAt(0),u+=t;var n=x(void 0,!0),a=j().validPositions[n],o=S(n+1,a?a.locator.slice():void 0,n);if(!function(){var e=!1,t=m().slice(c,D(c)).join("").indexOf(u);if(-1!==t&&!g(c)){e=!0;for(var i=m().slice(c,c+t),n=0;n<i.length;n++)if(" "!==i[n]){e=!1;break}}return e}()||l||E.autoUnmask){var r=l?e:null==o.match.fn&&o.match.optionality&&n+1<j().p?n+1:j().p;q.call(s,i,!0,!1,l,r),c=r+1,u=""}else q.call(s,i,!0,!1,!0,n+1)}),e&&B(s,M(),ae(s).is(":focus")?D(x(0)):void 0,ae.Event("checkval"))}function o(e){if(!e[0].inputmask||e.hasClass("hasDatepicker"))return e[0].inputmask._valueGet();var t=[],i=j().validPositions;for(var n in i)i[n].match&&null!=i[n].match.fn&&t.push(i[n].input);var a=0===t.length?null:(P?t.reverse():t).join("");if(null!==a){var o=(P?M().slice().reverse():M()).join("");ae.isFunction(E.onUnMask)&&(a=E.onUnMask.call(e,o,a,E)||a)}return a}function R(e,t,i){function n(e){!P||"number"!=typeof e||E.greedy&&""===E.placeholder||(e=M().join("").length-e);return e}var a,o=e.jquery&&0<e.length?e[0]:e;if("number"!=typeof t)return o.setSelectionRange?(t=o.selectionStart,i=o.selectionEnd):window.getSelection?(a=window.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==o&&a.commonAncestorContainer!==o||(t=a.startOffset,i=a.endOffset):document.selection&&document.selection.createRange&&(i=(t=0-(a=document.selection.createRange()).duplicate().moveStart("character",-1e5))+a.text.length),{begin:n(t),end:n(i)};if(t=n(t),i="number"==typeof(i=n(i))?i:t,ae(o).is(":visible")){var r=ae(o).css("font-size").replace("px","")*i;if(o.scrollLeft=r>o.scrollWidth?r:0,le||!1!==E.insertMode||t!==i||i++,o.setSelectionRange)o.selectionStart=t,o.selectionEnd=i;else if(window.getSelection){if(a=document.createRange(),void 0===o.firstChild){var s=document.createTextNode("");o.appendChild(s)}a.setStart(o.firstChild,t<o.inputmask._valueGet().length?t:o.inputmask._valueGet().length),a.setEnd(o.firstChild,i<o.inputmask._valueGet().length?i:o.inputmask._valueGet().length),a.collapse(!0);var l=window.getSelection();l.removeAllRanges(),l.addRange(a)}else o.createTextRange&&((a=o.createTextRange()).collapse(!0),a.moveEnd("character",i),a.moveStart("character",t),a.select())}}function L(e){var t,i,n=M(),a=n.length,o=x(),r={},s=j().validPositions[o],l=void 0!==s?s.locator.slice():void 0;for(t=o+1;t<n.length;t++)l=(i=S(t,l,t-1)).locator.slice(),r[t]=ae.extend(!0,{},i);var u=s&&void 0!==s.alternation?s.locator[s.alternation]:void 0;for(t=a-1;o<t&&(((i=r[t]).match.optionality||i.match.optionalQuantifier||u&&(u!==r[t].locator[s.alternation]&&null!=i.match.fn||null===i.match.fn&&i.locator[s.alternation]&&k(i.locator[s.alternation].toString().split(","),u.toString().split(","))&&""!==A(t)[0].def))&&n[t]===I(t,i.match));t--)a--;return e?{l:a,def:r[a]?r[a].match:void 0}:a}function N(e){for(var t=L(),i=e.length-1;t<i&&!g(i);i--);return e.splice(t,i+1-t),e}function K(e){if(ae.isFunction(E.isComplete))return E.isComplete.call(l,e,E);if("*"!==E.repeat){var t=!1,i=L(!0),n=G(i.l);if(void 0===i.def||i.def.newBlockMarker||i.def.optionality||i.def.optionalQuantifier){t=!0;for(var a=0;a<=n;a++){var o=S(a).match;if(null!==o.fn&&void 0===j().validPositions[a]&&!0!==o.optionality&&!0!==o.optionalQuantifier||null===o.fn&&e[a]!==I(a,o)){t=!1;break}}}return t}}function H(t){var i,n;function e(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():i.call(this)!==m().join("")?i.call(this):"":i.call(this)}function a(e){n.call(this,e),this.inputmask&&ae(this).triggerHandler("setvalue.inputmask")}t.inputmask.__valueGet||(Object.getOwnPropertyDescriptor&&void 0===t.value?(i=function(){return this.textContent},n=function(e){this.textContent=e},Object.defineProperty(t,"value",{get:e,set:a})):document.__lookupGetter__&&t.__lookupGetter__("value")?(i=t.__lookupGetter__("value"),n=t.__lookupSetter__("value"),t.__defineGetter__("value",e),t.__defineSetter__("value",a)):(i=function(){return t.value},n=function(e){t.value=e},function(e){if(void 0===ae.valHooks[e]||!0!==ae.valHooks[e].inputmaskpatch){var n=ae.valHooks[e]&&ae.valHooks[e].get?ae.valHooks[e].get:function(e){return e.value},a=ae.valHooks[e]&&ae.valHooks[e].set?ae.valHooks[e].set:function(e,t){return e.value=t,e};ae.valHooks[e]={get:function(e){if(e.inputmask){if(e.inputmask.opts.autoUnmask)return e.inputmask.unmaskedvalue();var t=n(e),i=e.inputmask.maskset._buffer;return t!==(i=i?i.join(""):"")?t:""}return n(e)},set:function(e,t){var i,n=ae(e);return i=a(e,t),e.inputmask&&n.triggerHandler("setvalue.inputmask"),i},inputmaskpatch:!0}}}(t.type),function(e){ae(e).bind("mouseenter.inputmask",function(e){var t=ae(this),i=this.inputmask._valueGet();""!==i&&i!==M().join("")&&t.triggerHandler("setvalue.inputmask")});var t=ae._data(e).events.mouseover;if(t){for(var i=t[t.length-1],n=t.length-1;0<n;n--)t[n]=t[n-1];t[0]=i}}(t)),t.inputmask.__valueGet=i,t.inputmask._valueGet=function(e){return P&&!0!==e?i.call(this.el).split("").reverse().join(""):i.call(this.el)},t.inputmask.__valueSet=n,t.inputmask._valueSet=function(e){n.call(this.el,P?e.split("").reverse().join(""):e)})}function U(o,e,t,i){if((E.numericInput||P)&&(e===oe.keyCode.BACKSPACE?e=oe.keyCode.DELETE:e===oe.keyCode.DELETE&&(e=oe.keyCode.BACKSPACE),P)){var n=t.end;t.end=t.begin,t.begin=n}e===oe.keyCode.BACKSPACE&&(t.end-t.begin<1||!1===E.insertMode)?(t.begin=G(t.begin),void 0===j().validPositions[t.begin]||j().validPositions[t.begin].input!==E.groupSeparator&&j().validPositions[t.begin].input!==E.radixPoint||t.begin--):e===oe.keyCode.DELETE&&t.begin===t.end&&(t.end=g(t.end)?t.end+1:D(t.end)+1,void 0===j().validPositions[t.begin]||j().validPositions[t.begin].input!==E.groupSeparator&&j().validPositions[t.begin].input!==E.radixPoint||t.end++),h(t.begin,t.end,!1,i),!0!==i&&function(){if(E.keepStatic){w(!0);var e,t=[],i=ae.extend(!0,{},j().validPositions);for(e=x();0<=e;e--){var n=j().validPositions[e];if(n&&(null!=n.match.fn&&t.push(n.input),delete j().validPositions[e],void 0!==n.alternation&&n.locator[n.alternation]===S(e).locator[n.alternation]))break}if(-1<e)for(;0<t.length;){j().p=D(x());var a=ae.Event("keypress");a.which=t.pop().charCodeAt(0),q.call(o,a,!0,!1,!1,j().p)}else j().validPositions=ae.extend(!0,{},i)}}();var a=x(t.begin);a<t.begin?(-1===a&&w(),j().p=D(a)):!0!==i&&(j().p=t.begin)}function W(t){var i=this,e=ae(i),n=t.keyCode,a=R(i);n===oe.keyCode.BACKSPACE||n===oe.keyCode.DELETE||se&&127===n||t.ctrlKey&&88===n&&!re("cut")?(t.preventDefault(),88===n&&(y=M().join("")),U(i,n,a),B(i,M(),j().p,t,y!==M().join("")),i.inputmask._valueGet()===m().join("")?e.trigger("cleared"):!0===K(M())&&e.trigger("complete"),E.showTooltip&&e.prop("title",j().mask)):n===oe.keyCode.END||n===oe.keyCode.PAGE_DOWN?setTimeout(function(){var e=D(x());E.insertMode||e!==b()||t.shiftKey||e--,R(i,t.shiftKey?a.begin:e,e)},0):n===oe.keyCode.HOME&&!t.shiftKey||n===oe.keyCode.PAGE_UP?R(i,0,t.shiftKey?a.begin:0):(E.undoOnEscape&&n===oe.keyCode.ESCAPE||90===n&&t.ctrlKey)&&!0!==t.altKey?(F(i,!0,!1,y.split("")),e.click()):n!==oe.keyCode.INSERT||t.shiftKey||t.ctrlKey?!0===E.tabThrough&&n===oe.keyCode.TAB?(!0===t.shiftKey?(null===f(a.begin).fn&&(a.begin=D(a.begin)),a.end=G(a.begin,!0),a.begin=G(a.end,!0)):(a.begin=D(a.begin,!0),a.end=D(a.begin,!0),a.end<b()&&a.end--),a.begin<b()&&(t.preventDefault(),R(i,a.begin,a.end))):!1!==E.insertMode||t.shiftKey||(n===oe.keyCode.RIGHT?setTimeout(function(){var e=R(i);R(i,e.begin)},0):n===oe.keyCode.LEFT&&setTimeout(function(){var e=R(i);R(i,P?e.begin+1:e.begin-1)},0)):(E.insertMode=!E.insertMode,R(i,E.insertMode||a.begin!==b()?a.begin:a.begin-1)),E.onKeyDown.call(this,t,M(),R(i).begin,E),_=-1!==ae.inArray(n,E.ignorables)}function q(e,t,i,n,a){var o,r,s=ae(this),l=e.which||e.charCode||e.keyCode;if(!(!0===t||e.ctrlKey&&e.altKey)&&(e.ctrlKey||e.metaKey||_))return l===oe.keyCode.ENTER&&y!==M().join("")&&setTimeout(function(){s.change(),y=M().join("")},0),!0;if(l){46===l&&!1===e.shiftKey&&","===E.radixPoint&&(l=44);var u,c=t?{begin:a,end:a}:R(this),p=String.fromCharCode(l),d=(o=c.begin,r=c.end,P?1<o-r||o-r==1&&E.insertMode:1<r-o||r-o==1&&E.insertMode);d&&(j().undoPositions=ae.extend(!0,{},j().validPositions),U(this,oe.keyCode.DELETE,c,!0),c.begin=j().p,E.insertMode||(E.insertMode=!E.insertMode,C(c.begin,n),E.insertMode=!E.insertMode),d=!E.multi),j().writeOutBuffer=!0;var f=P&&!d?c.end:c.begin,v=T(f,p,n);if(!1!==v){if(!0!==v&&(f=void 0!==v.pos?v.pos:f,p=void 0!==v.c?v.c:p),w(!0),void 0!==v.caret)u=v.caret;else{var m=j().validPositions;u=!E.keepStatic&&(void 0!==m[f+1]&&1<A(f+1,m[f].locator.slice(),f).length||void 0!==m[f].alternation)?f+1:D(f)}j().p=u}if(!1!==i){var h=this;if(setTimeout(function(){E.onKeyValidation.call(h,v,E)},0),j().writeOutBuffer&&!1!==v){var k=M();B(this,k,t?void 0:E.numericInput?G(u):u,e,!0!==t),!0!==t&&setTimeout(function(){!0===K(k)&&s.trigger("complete")},0)}else d&&(j().buffer=void 0,j().validPositions=j().undoPositions)}else d&&(j().buffer=void 0,j().validPositions=j().undoPositions);if(E.showTooltip&&s.prop("title",j().mask),t&&ae.isFunction(E.onBeforeWrite)){var g=E.onBeforeWrite.call(this,e,M(),u,E);if(g&&g.refreshFromBuffer){var b=g.refreshFromBuffer;O(!0===b?b:b.start,b.end,g.buffer),w(!0),g.caret&&(j().p=g.caret)}}if(e.preventDefault(),t)return v}}function Q(e){var t=this,i=ae(t),n=t.inputmask._valueGet(!0),a=R(t);if("propertychange"===e.type&&t.inputmask._valueGet().length<=b())return!0;if("paste"===e.type){var o=n.substr(0,a.begin),r=n.substr(a.end,n.length);o===m().slice(0,a.begin).join("")&&(o=""),r===m().slice(a.end).join("")&&(r=""),window.clipboardData&&window.clipboardData.getData?n=o+window.clipboardData.getData("Text")+r:e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.getData&&(n=o+e.originalEvent.clipboardData.getData("text/plain")+r)}var s=n;if(ae.isFunction(E.onBeforePaste)){if(!1===(s=E.onBeforePaste.call(t,n,E)))return e.preventDefault(),!1;s=s||n}return F(t,!1,!1,P?s.split("").reverse():s.split("")),B(t,M(),void 0,e,!0),i.click(),!0===K(M())&&i.trigger("complete"),!1}function V(e){F(this,!0,!1),!0===K(M())&&ae(this).trigger("complete"),e.preventDefault()}function z(e){y=M().join(""),""!==s&&0===e.originalEvent.data.indexOf(s)||(r=R(this))}function $(e){var t=this,i=R(t);0===e.originalEvent.data.indexOf(s)&&(w(),i=r);var n=e.originalEvent.data;R(t,i.begin,i.end);for(var a=0;a<n.length;a++){var o=ae.Event("keypress");o.which=n.charCodeAt(a),_=c=!1,q.call(t,o)}setTimeout(function(){var e=j().p;B(t,M(),E.numericInput?G(e):e)},0),s=e.originalEvent.data}function Z(e){}if(void 0!==e)switch(e.action){case"isComplete":return i=e.el,l=ae(i),t=i.inputmask.maskset,E=i.inputmask.opts,K(e.buffer);case"unmaskedvalue":return void 0===(i=e.el)?((i=(l=ae({}))[0]).inputmask=new oe,i.inputmask.opts=E,(i.inputmask.el=i).inputmask.maskset=t,i.inputmask.isRTL=E.numericInput,E.numericInput&&(P=!0),n=(ae.isFunction(E.onBeforeMask)&&E.onBeforeMask.call(l,e.value,E)||e.value).split(""),F(l,!1,!1,P?n.reverse():n),ae.isFunction(E.onBeforeWrite)&&E.onBeforeWrite.call(this,void 0,M(),0,E)):l=ae(i),t=i.inputmask.maskset,E=i.inputmask.opts,P=i.inputmask.isRTL,o(l);case"mask":y=M().join(""),function(e){l=ae(e),E.showTooltip&&l.prop("title",j().mask),"rtl"!==e.dir&&!E.rightAlign||l.css("text-align","right"),"rtl"!==e.dir&&!E.numericInput||(e.dir="ltr",l.removeAttr("dir"),e.inputmask.isRTL=!0,P=!0),l.unbind(".inputmask"),(l.is(":input")&&function(e){var t="text"===e||"tel"===e||"password"===e;if(!t){var i=document.createElement("input");i.setAttribute("type",e),t="text"===i.type,i=null}return t}(l.attr("type"))||e.isContentEditable)&&(l.closest("form").bind("submit",function(){y!==M().join("")&&l.change(),E.clearMaskOnLostFocus&&-1===x()&&l[0].inputmask._valueGet&&l[0].inputmask._valueGet()===m().join("")&&l[0].inputmask._valueSet(""),E.removeMaskOnSubmit&&l.inputmask("remove")}).bind("reset",function(){setTimeout(function(){l.triggerHandler("setvalue.inputmask")},0)}),l.bind("mouseenter.inputmask",function(){var e=ae(this);d=!0,!e.is(":focus")&&E.showMaskOnHover&&this.inputmask._valueGet()!==M().join("")&&B(this,M())}).bind("blur.inputmask",function(e){var t=ae(this);if(this.inputmask){var i=this.inputmask._valueGet(),n=M().slice();y!==n.join("")&&setTimeout(function(){t.change(),y=n.join("")},0),""!==i&&(E.clearMaskOnLostFocus&&(-1===x()&&i===m().join("")?n=[]:N(n)),!1===K(n)&&(setTimeout(function(){t.trigger("incomplete")},0),E.clearIncomplete&&(w(),n=E.clearMaskOnLostFocus?[]:m().slice())),B(this,n,void 0,e))}}).bind("focus.inputmask",function(e){var t=this,i=t.inputmask._valueGet();E.showMaskOnFocus&&(!E.showMaskOnHover||E.showMaskOnHover&&""===i)?t.inputmask._valueGet()!==M().join("")&&B(t,M(),D(x())):!1===d&&R(t,D(x())),!0===E.positionCaretOnTab&&setTimeout(function(){R(t,D(x()))},0),y=M().join("")}).bind("mouseleave.inputmask",function(){var e=ae(this);if(d=!1,E.clearMaskOnLostFocus){var t=M().slice(),i=this.inputmask._valueGet();e.is(":focus")||i===e.attr("placeholder")||""===i||(-1===x()&&i===m().join("")?t=[]:N(t),B(this,t))}}).bind("click.inputmask",function(){var e=this;if(ae(e).is(":focus")){var t=R(e);if(t.begin===t.end)if(function(e){if(E.radixFocus&&""!==E.radixPoint){var t=j().validPositions;if(void 0===t[e]||t[e].input===I(e)){if(e<D(-1))return 1;var i=ae.inArray(E.radixPoint,M());if(-1!==i){for(var n in t)if(i<n&&t[n].input!==I(n))return;return 1}}}}(t.begin))R(e,ae.inArray(E.radixPoint,M()));else{var i=t.begin,n=D(x(i));R(e,i<n?g(i)||g(i-1)?i:D(i):E.numericInput?0:n)}}}).bind("dblclick.inputmask",function(){var e=this;setTimeout(function(){R(e,0,D(x()))},0)}).bind(ce+".inputmask dragdrop.inputmask drop.inputmask",Q).bind("cut.inputmask",function(e){p=!0;var t=this,i=ae(t),n=R(t);if(P){var a=window.clipboardData||e.originalEvent.clipboardData,o=a.getData("text").split("").reverse().join("");a.setData("text",o)}U(t,oe.keyCode.DELETE,n),B(t,M(),j().p,e,y!==M().join("")),t.inputmask._valueGet()===m().join("")&&i.trigger("cleared"),E.showTooltip&&i.prop("title",j().mask)}).bind("complete.inputmask",E.oncomplete).bind("incomplete.inputmask",E.onincomplete).bind("cleared.inputmask",E.oncleared),l.bind("keydown.inputmask",W).bind("keypress.inputmask",q),ue||l.bind("compositionstart.inputmask",z).bind("compositionupdate.inputmask",$).bind("compositionend.inputmask",Z),"paste"===ce&&l.bind("input.inputmask",V)),l.bind("setvalue.inputmask",function(){var e=this,t=e.inputmask._valueGet();e.inputmask._valueSet(ae.isFunction(E.onBeforeMask)&&E.onBeforeMask.call(e,t,E)||t),F(e,!0,!1),y=M().join(""),(E.clearMaskOnLostFocus||E.clearIncomplete)&&e.inputmask._valueGet()===m().join("")&&e.inputmask._valueSet("")}),H(e);var t=ae.isFunction(E.onBeforeMask)&&E.onBeforeMask.call(e,e.inputmask._valueGet(),E)||e.inputmask._valueGet();F(e,!0,!1,t.split(""));var i,n,a,o,r=M().slice();y=r.join("");try{i=document.activeElement}catch(e){}!1===K(r)&&E.clearIncomplete&&w(),E.clearMaskOnLostFocus&&(r.join("")===m().join("")?r=[]:N(r)),B(e,r),i===e&&R(e,D(x())),n=e,a=ae._data(n).events,o=!1,ae.each(a,function(e,t){ae.each(t,function(e,t){if("inputmask"===t.namespace){var i=t.handler;t.handler=function(e){if(void 0===this.inputmask){var t=ae(this).data("_inputmask_opts");t?new oe(t).mask(this):ae(this).unbind(".inputmask")}else{if("setvalue"===e.type||!(this.disabled||this.readOnly&&!("keydown"===e.type&&e.ctrlKey&&67===e.keyCode||!1===E.tabThrough&&e.keyCode===oe.keyCode.TAB))){switch(e.type){case"input":if(!0===p||!0===o)return p=!1,e.preventDefault();break;case"keydown":o=c=!1;break;case"keypress":if(!0===c)return e.preventDefault();c=!0;break;case"compositionstart":o=!0;break;case"compositionupdate":p=!0;break;case"compositionend":o=!1}return i.apply(this,arguments)}e.preventDefault()}}}})})}(e.el);break;case"format":return(l=ae({}))[0].inputmask=new oe,l[0].inputmask.opts=E,l[0].inputmask.el=l[0],l[0].inputmask.maskset=t,l[0].inputmask.isRTL=E.numericInput,E.numericInput&&(P=!0),n=(ae.isFunction(E.onBeforeMask)&&E.onBeforeMask.call(l,e.value,E)||e.value).split(""),F(l,!1,!1,P?n.reverse():n),ae.isFunction(E.onBeforeWrite)&&E.onBeforeWrite.call(this,void 0,M(),0,E),e.metadata?{value:P?M().slice().reverse().join(""):M().join(""),metadata:l.inputmask("getmetadata")}:P?M().slice().reverse().join(""):M().join("");case"isValid":(l=ae({}))[0].inputmask=new oe,l[0].inputmask.opts=E,l[0].inputmask.el=l[0],l[0].inputmask.maskset=t,l[0].inputmask.isRTL=E.numericInput,E.numericInput&&(P=!0),n=e.value.split(""),F(l,!1,!0,P?n.reverse():n);for(var J=M(),Y=L(),X=J.length-1;Y<X&&!g(X);X--);return J.splice(Y,X+1-Y),K(J)&&e.value===J.join("");case"getemptymask":return i=e.el,l=ae(i),t=i.inputmask.maskset,E=i.inputmask.opts,m();case"remove":var ee;i=e.el,l=ae(i),t=i.inputmask.maskset,E=i.inputmask.opts,i.inputmask._valueSet(o(l)),l.unbind(".inputmask"),Object.getOwnPropertyDescriptor&&(ee=Object.getOwnPropertyDescriptor(i,"value")),ee&&ee.get?i.inputmask.__valueGet&&Object.defineProperty(i,"value",{get:i.inputmask.__valueGet,set:i.inputmask.__valueSet}):document.__lookupGetter__&&i.__lookupGetter__("value")&&i.inputmask.__valueGet&&(i.__defineGetter__("value",i.inputmask.__valueGet),i.__defineSetter__("value",i.inputmask.__valueSet)),i.inputmask=void 0;break;case"getmetadata":if(i=e.el,l=ae(i),t=i.inputmask.maskset,E=i.inputmask.opts,ae.isArray(t.metadata)){for(var te,ie=x(),ne=ie;0<=ne;ne--)if(j().validPositions[ne]&&void 0!==j().validPositions[ne].alternation){te=j().validPositions[ne].alternation;break}return void 0!==te?t.metadata[j().validPositions[ie].locator[te]]:t.metadata[0]}return t.metadata}}window.Inputmask=oe}(jQuery);